{"remainingRequest":"/home/thomas/Bureau/randomscrap/front/node_modules/babel-loader/lib/index.js!/home/thomas/Bureau/randomscrap/front/node_modules/vue-loader-v16/dist/templateLoader.js??ref--6!/home/thomas/Bureau/randomscrap/front/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/thomas/Bureau/randomscrap/front/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/thomas/Bureau/randomscrap/front/src/views/Article.vue?vue&type=template&id=82768ea8&scoped=true","dependencies":[{"path":"/home/thomas/Bureau/randomscrap/front/src/views/Article.vue","mtime":1627553436966},{"path":"/home/thomas/Bureau/randomscrap/front/node_modules/cache-loader/dist/cjs.js","mtime":1627462686014},{"path":"/home/thomas/Bureau/randomscrap/front/node_modules/babel-loader/lib/index.js","mtime":1627462686442},{"path":"/home/thomas/Bureau/randomscrap/front/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1627462686786},{"path":"/home/thomas/Bureau/randomscrap/front/node_modules/cache-loader/dist/cjs.js","mtime":1627462686014},{"path":"/home/thomas/Bureau/randomscrap/front/node_modules/vue-loader-v16/dist/index.js","mtime":1627462686446}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgY3JlYXRlQ29tbWVudFZOb2RlIGFzIF9jcmVhdGVDb21tZW50Vk5vZGUsIGNyZWF0ZVZOb2RlIGFzIF9jcmVhdGVWTm9kZSwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2ssIGNyZWF0ZUJsb2NrIGFzIF9jcmVhdGVCbG9jaywgdG9EaXNwbGF5U3RyaW5nIGFzIF90b0Rpc3BsYXlTdHJpbmcsIHJlbmRlckxpc3QgYXMgX3JlbmRlckxpc3QsIEZyYWdtZW50IGFzIF9GcmFnbWVudCwgcmVzb2x2ZUNvbXBvbmVudCBhcyBfcmVzb2x2ZUNvbXBvbmVudCwgd2l0aFNjb3BlSWQgYXMgX3dpdGhTY29wZUlkLCBwdXNoU2NvcGVJZCBhcyBfcHVzaFNjb3BlSWQsIHBvcFNjb3BlSWQgYXMgX3BvcFNjb3BlSWQgfSBmcm9tICJ2dWUiOwppbXBvcnQgX2ltcG9ydHNfMCBmcm9tICcuLi9hc3NldHMvdGltZS5wbmcnOwoKdmFyIF93aXRoSWQgPSAvKiNfX1BVUkVfXyovX3dpdGhTY29wZUlkKCJkYXRhLXYtODI3NjhlYTgiKTsKCl9wdXNoU2NvcGVJZCgiZGF0YS12LTgyNzY4ZWE4Iik7Cgp2YXIgX2hvaXN0ZWRfMSA9IHsKICBpZDogImFydGljbGUiCn07Cgp2YXIgX2hvaXN0ZWRfMiA9IC8qI19fUFVSRV9fKi9fY3JlYXRlVk5vZGUoInAiLCBudWxsLCAiVm91cyBhdmV6IHRvdXQgbHUuIiwgLTEKLyogSE9JU1RFRCAqLwopOwoKdmFyIF9ob2lzdGVkXzMgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZVZOb2RlKCJiciIsIG51bGwsIG51bGwsIC0xCi8qIEhPSVNURUQgKi8KKTsKCnZhciBfaG9pc3RlZF80ID0gLyojX19QVVJFX18qL19jcmVhdGVWTm9kZSgiYnV0dG9uIiwgbnVsbCwgIuKGuiIsIC0xCi8qIEhPSVNURUQgKi8KKTsKCnZhciBfaG9pc3RlZF81ID0gewogIGtleTogMSwKICBpZDogImNvbnRlbnQiCn07Cgp2YXIgX2hvaXN0ZWRfNiA9IC8qI19fUFVSRV9fKi9fY3JlYXRlVk5vZGUoImRpdiIsIHsKICBjbGFzczogInByb2dyZXNzQ29udGFpbmVyIgp9LCBbLyojX19QVVJFX18qL19jcmVhdGVWTm9kZSgiZGl2IiwgewogIGNsYXNzOiAicHJvZ3Jlc3NCYXIiLAogIGlkOiAibXlCYXIiCn0pXSwgLTEKLyogSE9JU1RFRCAqLwopOwoKdmFyIF9ob2lzdGVkXzcgPSB7CiAgY2xhc3M6ICJ0aW1lIgp9OwoKdmFyIF9ob2lzdGVkXzggPSAvKiNfX1BVUkVfXyovX2NyZWF0ZVZOb2RlKCJpbWciLCB7CiAgc3JjOiBfaW1wb3J0c18wLAogIGFsdDogInRlbXBzIGRlIGxlY3R1cmUgZXN0aW3DqSIKfSwgbnVsbCwgLTEKLyogSE9JU1RFRCAqLwopOwoKdmFyIF9ob2lzdGVkXzkgPSB7CiAgY2xhc3M6ICJ0aXRsZSIKfTsKdmFyIF9ob2lzdGVkXzEwID0gewogIGNsYXNzOiAicHJldmlldyIKfTsKCl9wb3BTY29wZUlkKCk7CgpleHBvcnQgdmFyIHJlbmRlciA9IC8qI19fUFVSRV9fKi9fd2l0aElkKGZ1bmN0aW9uIChfY3R4LCBfY2FjaGUsICRwcm9wcywgJHNldHVwLCAkZGF0YSwgJG9wdGlvbnMpIHsKICB2YXIgX2NvbXBvbmVudF9Gb290ZXJBcnRpY2xlID0gX3Jlc29sdmVDb21wb25lbnQoIkZvb3RlckFydGljbGUiKTsKCiAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKCJhcnRpY2xlIiwgX2hvaXN0ZWRfMSwgW19jcmVhdGVDb21tZW50Vk5vZGUoIiA8ZGl2IGNsYXNzPVwicHJvZ3Jlc3NDb250YWluZXJcIiB2LWlmPVwiIWlzTm9BcnRpY2xlc1wiPlxuICAgICAgPGRpdiBjbGFzcz1cInByb2dyZXNzQmFyXCIgaWQ9XCJteUJhclwiPjwvZGl2PlxuICAgIDwvZGl2PiAiKSwgJGRhdGEuaXNOb0FydGljbGVzID8gKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKCJkaXYiLCB7CiAgICBrZXk6IDAsCiAgICBjbGFzczogInRvdXRMdSIsCiAgICBvbkNsaWNrOiBfY2FjaGVbMV0gfHwgKF9jYWNoZVsxXSA9IGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuICRvcHRpb25zLnJlbG9hZEFydGljbGVzICYmICRvcHRpb25zLnJlbG9hZEFydGljbGVzLmFwcGx5KCRvcHRpb25zLCBhcmd1bWVudHMpOwogICAgfSkKICB9LCBbX2hvaXN0ZWRfMiwgX2hvaXN0ZWRfMywgX2hvaXN0ZWRfNF0pKSA6IChfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jaygiZGl2IiwgX2hvaXN0ZWRfNSwgW19ob2lzdGVkXzYsIF9jcmVhdGVWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfNywgW19ob2lzdGVkXzgsIF9jcmVhdGVWTm9kZSgicCIsIG51bGwsIF90b0Rpc3BsYXlTdHJpbmcoJGRhdGEubWludXRlc1RvUmVhZCkgKyAiIG1pbnV0ZXMiLCAxCiAgLyogVEVYVCAqLwogICldKSwgX2NyZWF0ZVZOb2RlKCJoMiIsIF9ob2lzdGVkXzksIF90b0Rpc3BsYXlTdHJpbmcoJGRhdGEuYXJ0aWNsZS50aXRsZSksIDEKICAvKiBURVhUICovCiAgKSwgX2NyZWF0ZVZOb2RlKCJwIiwgX2hvaXN0ZWRfMTAsIF90b0Rpc3BsYXlTdHJpbmcoJGRhdGEuYXJ0aWNsZS5wcmV2aWV3KSwgMQogIC8qIFRFWFQgKi8KICApLCAoX29wZW5CbG9jayh0cnVlKSwgX2NyZWF0ZUJsb2NrKF9GcmFnbWVudCwgbnVsbCwgX3JlbmRlckxpc3QoJGRhdGEuYXJ0aWNsZS5jb250ZW50LCBmdW5jdGlvbiAocGFyYWdyYXBoLCBpbmRleCkgewogICAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKCJkaXYiLCB7CiAgICAgIGtleTogaW5kZXgsCiAgICAgIGNsYXNzOiAicGFyYWdyYXBocyIKICAgIH0sIFtfY3JlYXRlVk5vZGUoInAiLCBudWxsLCBfdG9EaXNwbGF5U3RyaW5nKHBhcmFncmFwaCksIDEKICAgIC8qIFRFWFQgKi8KICAgICldKTsKICB9KSwgMTI4CiAgLyogS0VZRURfRlJBR01FTlQgKi8KICApKSwgISRkYXRhLmlzTm9BcnRpY2xlcyA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jayhfY29tcG9uZW50X0Zvb3RlckFydGljbGUsIHsKICAgIGtleTogMCwKICAgIHVybDogJGRhdGEuYXJ0aWNsZS51cmwsCiAgICBjbGlja0J0bjogJG9wdGlvbnMuZ2V0UmFuZG9tQXJ0aWNsZQogIH0sIG51bGwsIDgKICAvKiBQUk9QUyAqLwogICwgWyJ1cmwiLCAiY2xpY2tCdG4iXSkpIDogX2NyZWF0ZUNvbW1lbnRWTm9kZSgidi1pZiIsIHRydWUpXSkpLCBfY3JlYXRlQ29tbWVudFZOb2RlKCIgPEZvb3RlckFydGljbGVcbiAgICAgIHYtaWY9XCIhaXNOb0FydGljbGVzXCJcbiAgICAgIDp1cmw9XCJhcnRpY2xlLnVybFwiXG4gICAgICA6Y2xpY2tCdG49XCJnZXRSYW5kb21BcnRpY2xlXCJcbiAgICAvPiAiKV0pOwp9KTs="},{"version":3,"sources":["/home/thomas/Bureau/randomscrap/front/src/views/Article.vue"],"names":[],"mappings":";OAea,U,MAAwB,oB;;;;;;;AAd1B,EAAA,EAAE,EAAC;;;8BAKR,YAAA,CAAyB,GAAzB,EAAyB,IAAzB,EAAG,oBAAH,EAAqB,CAAA;AAAA;AAArB,C;;8BACA,YAAA,CAAM,IAAN,EAAM,IAAN,EAAM,IAAN,EAAM,CAAA;AAAA;AAAN,C;;8BACA,YAAA,CAAwB,QAAxB,EAAwB,IAAxB,EAAQ,GAAR,EAAe,CAAA;AAAA;AAAf,C;;;;AAEG,EAAA,EAAE,EAAC;;;8BACN,YAAA,CAEM,KAFN,EAEM;AAFD,EAAA,KAAK,EAAC;AAEL,CAFN,EAA8B,C,aAC5B,YAAA,CAA0C,KAA1C,EAA0C;AAArC,EAAA,KAAK,EAAC,aAA+B;AAAjB,EAAA,EAAE,EAAC;AAAc,CAA1C,CAD4B,CAA9B,E;;AAAA,C;;;AAGK,EAAA,KAAK,EAAC;;;8BACT,YAAA,CAA8D,KAA9D,EAA8D;AAAzD,EAAA,GAAwB,EAAxB,UAAyD;AAAhC,EAAA,GAAG,EAAC;AAA4B,CAA9D,E,IAAA,E;;AAAA,C;;;AAGE,EAAA,KAAK,EAAC;;;AACP,EAAA,KAAK,EAAC;;;;;;;;uBAlBb,YAAA,CAqCU,SArCV,EAAA,UAAA,EAqCU,CApCR,mBAAA,CAAA,8HAAA,CAoCQ,EAjCkB,KAAA,CAAA,Y,kBAA1B,YAAA,CAIM,KAJN,EAIM;UAAA;AAJD,IAAA,KAAK,EAAC,QAIL;AAJmC,IAAA,OAAK,EAAA,MAAA,CAAA,CAAA,CAAA,KAAA,MAAA,CAAA,CAAA,CAAA,GAAA;AAAA,aAAE,QAAA,CAAA,cAAA,IAAA,QAAA,CAAA,cAAA,OAAA,QAAA,YAAF;AAAA,KAAA;AAIxC,GAJN,E,CACE,U,EACA,U,EACA,U,CAHF,C,mBAKA,YAAA,CAsBM,KAtBN,EAAA,UAAA,EAsBM,CArBJ,UAqBI,EAlBJ,YAAA,CAGM,KAHN,EAAA,UAAA,EAGM,CAFJ,UAEI,EADJ,YAAA,CAAkC,GAAlC,EAAkC,IAAlC,EAAkC,gBAAA,CAA5B,KAAA,CAAA,aAA4B,CAAA,GAAZ,UAAtB,EAA8B;AAAA;AAA9B,GACI,CAHN,CAkBI,EAdJ,YAAA,CAA0C,IAA1C,EAAA,UAAA,EAA0C,gBAAA,CAArB,KAAA,CAAA,OAAA,CAAQ,KAAa,CAA1C,EAAkC;AAAA;AAAlC,GAcI,EAbJ,YAAA,CAA4C,GAA5C,EAAA,WAAA,EAA4C,gBAAA,CAAtB,KAAA,CAAA,OAAA,CAAQ,OAAc,CAA5C,EAAqC;AAAA;AAArC,GAaI,G,kBAZJ,YAAA,CAMM,SANN,EAMM,IANN,EAMM,WAAA,CALyB,KAAA,CAAA,OAAA,CAAQ,OAKjC,EALwC,UAApC,SAAoC,EAAzB,KAAyB,EAApB;yBAD1B,YAAA,CAMM,KANN,EAMM;AAJH,MAAA,GAAG,EAAE,KAIF;AAHJ,MAAA,KAAK,EAAC;AAGF,KANN,E,CAKE,YAAA,CAAsB,GAAtB,EAAsB,IAAtB,EAAsB,gBAAA,CAAhB,SAAgB,CAAtB,EAAe;AAAA;AAAf,K,CALF,C;GAMM,CANN,E;;AAAA,GAYI,G,CAJG,KAAA,CAAA,Y,kBADN,YAAA,CAID,wBAJC,EAID;UAAA;AAFC,IAAA,GAAG,EAAE,KAAA,CAAA,OAAA,CAAQ,GAEd;AADC,IAAA,QAAQ,EAAE,QAAA,CAAA;AACX,GAJC,E,IAAA,E;;AAAA,I,mBAAA,C,qCAKG,CAtBN,C,CA4BQ,EALR,mBAAA,CAAA,0HAAA,CAKQ,CArCV,C","sourcesContent":["<template>\n  <article id=\"article\">\n    <!-- <div class=\"progressContainer\" v-if=\"!isNoArticles\">\n      <div class=\"progressBar\" id=\"myBar\"></div>\n    </div> -->\n    <div class=\"toutLu\" v-if=\"isNoArticles\" @click=\"reloadArticles\">\n      <p>Vous avez tout lu.</p>\n      <br />\n      <button>&#8634;</button>\n    </div>\n    <div id=\"content\" v-else>\n      <div class=\"progressContainer\">\n        <div class=\"progressBar\" id=\"myBar\"></div>\n      </div>\n      <div class=\"time\">\n        <img src=\"../assets/time.png\" alt=\"temps de lecture estimÃ©\" />\n        <p>{{ minutesToRead }} minutes</p>\n      </div>\n      <h2 class=\"title\">{{ article.title }}</h2>\n      <p class=\"preview\">{{ article.preview }}</p>\n      <div\n        v-for=\"(paragraph, index) in article.content\"\n        :key=\"index\"\n        class=\"paragraphs\"\n      >\n        <p>{{ paragraph }}</p>\n      </div>\n       <FooterArticle\n      v-if=\"!isNoArticles\"\n      :url=\"article.url\"\n      :clickBtn=\"getRandomArticle\"\n    />\n    </div>\n    <!-- <FooterArticle\n      v-if=\"!isNoArticles\"\n      :url=\"article.url\"\n      :clickBtn=\"getRandomArticle\"\n    /> -->\n  </article>\n</template>\n\n<script>\nimport FooterArticle from \"../components/Footer-Article.vue\";\nimport axios from \"axios\";\n\nexport default {\n  name: \"Article\",\n  components: { FooterArticle },\n  data() {\n    return {\n      article: {\n        url: \"\",\n        title: \"\",\n        preview: \"\",\n        content: [],\n      },\n      articles: [],\n      articlesTrash: [],\n      randomNumber: 0,\n      isNoArticles: false,\n      minutesToRead: 0,\n    };\n  },\n  created() {\n    window.addEventListener(\"scroll\", this.scrollProgress);\n  },\n  unmounted() {\n    window.removeEventListener(\"scroll\", this.scrollProgress);\n  },\n  async mounted() {\n    await this.getArticles();\n    this.getRandomArticle();\n  },\n  methods: {\n    getArticles() {\n      return axios\n        .get(\"http://localhost:3000/article\")\n        .then((res) => {\n          this.articles = res.data.articles;\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n    },\n    pickRandomNumber() {\n      return (this.randomNumber = Math.floor(\n        Math.random() * this.articles.length\n      ));\n    },\n    getRandomArticle() {\n      this.pickRandomNumber();\n      this.article = { ...this.articles[this.randomNumber] };\n      if (this.articles.length != 0) {\n        this.articlesTrash.push(this.article);\n        this.articles.splice(this.randomNumber, 1);\n        this.checkIfEmpty();\n        this.goTop();\n      }\n      this.numberOfWords();\n    },\n    checkIfEmpty() {\n      if (!this.articles.length > 0) {\n        return (this.isNoArticles = true);\n      } else {\n        return (this.isNoArticles = false);\n      }\n    },\n    goTop() {\n      document.body.scrollTop = 0; // For Safari\n      document.documentElement.scrollTop = 0; // For Chrome, Firefox, IE and Opera\n    },\n    reloadArticles() {\n      this.isNoArticles = false;\n      this.articles = this.articlesTrash.slice(0);\n      this.articlesTrash.splice(0, this.articlesTrash.length);\n      this.getRandomArticle();\n    },\n    numberOfWords() {\n      this.minutesToRead = 0;\n      let all_wordsCount = 0;\n      let arrayOf_p = this.article.content;\n      for (let i = 0; i < arrayOf_p.length; i++) {\n        let p_wordsCount = arrayOf_p[i].split(/\\b\\w+\\b/).length;\n        all_wordsCount += p_wordsCount;\n      }\n      this.minutesToRead += Math.round(all_wordsCount / 300); // vitesse lecture moy. = 300 mots/min\n    },\n    scrollProgress() {\n      var winScroll =\n        document.body.scrollTop || document.documentElement.scrollTop;\n      var height =\n        document.documentElement.scrollHeight -\n        document.documentElement.clientHeight;\n      var scrolled = (winScroll / height) * 100;\n      document.getElementById(\"myBar\").style.width = scrolled + \"%\";\n    },\n  },\n};\n</script>\n\n<style scoped>\n.progressContainer {\n  position: fixed;\n  top: 7vh;\n  height: 1vh;\n  width: 100vw;\n  z-index: 99;\n}\n.progressBar {\n  background-color: black;\n  height: 100%;\n  width: 0%;\n}\n#content {\n  margin: 30vh 25vw;\n}\np {\n  font-family: Helvetica, sans-serif;\n  font-size: 1.4rem;\n}\nbutton {\n  border: none;\n  background-color: #fff;\n  font-size: 2rem;\n  cursor: pointer;\n}\n.time {\n  display: flex;\n  align-items: center;\n  height: 30px;\n  margin-bottom: 5vh;\n  filter: invert(0.5);\n}\n.time img {\n  width: 30px;\n  margin-right: 1vh;\n}\n.title {\n  font-family: Arial, Helvetica, sans-serif;\n  font-size: 3rem;\n}\n.preview {\n  font-family: \"Times New Roman\", Times, serif;\n  font-size: 2rem;\n  font-style: italic;\n  text-align: end;\n  margin: 5vh 0 10vh 0;\n}\n.paragraphs p {\n  margin: 2.75vh 10% 0 10%;\n  line-height: 1.75rem;\n  text-align: justify;\n}\n.toutLu {\n  height: 86vh;\n  margin-top: 7vh;\n  padding-top: 43vh;\n  transform: translateY(-7%);\n  text-align: center;\n  cursor: pointer;\n}\n\n@media screen and (max-width: 768px) {\n  #content {\n    margin: 20vh 4vh;\n  }\n  .time img {\n    width: 20px;\n  }\n  .title {\n    font-size: 1.9rem;\n  }\n  .preview {\n    text-align: end;\n    margin-left: 0;\n    font-size: 1.4rem;\n  }\n  p {\n    font-size: 1.1rem;\n  }\n  .paragraphs p {\n    line-height: 1.5rem;\n    margin: 2.75vh 0 0 0;\n  }\n}\n</style>\n"],"sourceRoot":""}]}